@model PagedIndexVM
@{
    ViewData["Title"] = "Home Page";
}
<script src="~/js/test.js" asp-append-version="true"></script>
<div class="my_nav">
    <form asp-action="Index" method="get">
        <ul id="category_output"></ul>
        <input type="hidden" id="cat_name" name="CategoryId" />
        <input name="Substring" class="input-sm" placeholder="Поиск..." />
        <button class="btn btn-default btn-xs btn-block" id="filter"> Фильтровать</button>
        <br />
        <span class="price">
            Диапазон: от
            <input type="number" step="1" min="1" max="15000000000" id="num_count" name="MinValue" value="" class="input-sm input-price" size="4" />
            до :
            <input type="number" step="1" min="1" max="15000000000" id="num_count" name="MaxValue" value="" class="input-sm input-price" size="4" />
        </span>

    </form>
</div>
<div class="cat_list">
    <ul class="list-group">
        @foreach (var item in Model.Adverts)
        {
            <li id="advert_list" class="list-group-item nav-item">
                <form asp-action="Delete" asp-controller="Adverts" onsubmit='return confirm("Вы точно хотите удалить объявление?");'>
                    <a class="nav-item text-dark" asp-action="Details" asp-route-id="@item.Id">  </a>
                    <span><img class="img-rounded" id="index_img" src="~/images/default.png" alt="Default image" /></span>
                    <p>@item.Name</p>
                    <p>@item.City.Name</p>
                    <p>@item.Price<hr />@item.Created</p>
                    <span class="adverts_actions">
                        @if (User.Identity.IsAuthenticated)
                        {   <a class="nav-item text-dark" asp-action="Edit" asp-route-id="@item.Id">Изменить |</a> }
                        <a class="nav-item text-dark" asp-action="Details" asp-route-id="@item.Id">Детали</a> |
                        @if (User.Identity.IsAuthenticated) {
                            {  <button type="submit" asp-controller="Adverts" asp-action="Delete" class="btn btn-primary" ifp-route-id="@item.Id">Удалить</button> }
                   }
                    </span>
                </form>
            </li>
        }
    </ul>
    @if (Model.Page.PageNumber > 1)
    {
        <a href="~/?page=@(--Model.Page.PageNumber)">Предыдущая страница</a>
    }
    @if (Model.Page.PageNumber < Model.Page.TotalPages)
    {
        <a href="~/?page=@(++Model.Page.PageNumber)">Следующая страница</a>
    }
</div>